<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Votación</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('imagenes/Steagul_Romaniei.webp');
            background-size: cover;
            background-position: center;
            color: white;
            margin: 0;
            padding: 0;
        }

        .overlay {
            background: rgba(0, 0, 0, 0.7);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
        }

        .container {
            display: flex;
            justify-content: space-between;
            padding: 20px;
            flex-wrap: wrap;
        }

        .form-container, .statistics-container {
            width: 45%;
            box-sizing: border-box;
            padding: 20px;
        }

        h1, h2, h3 {
            text-align: center;
        }

        .form-container {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 10px;
        }

        label {
            display: block;
            margin: 10px 0 5px;
        }

        select, input[type="text"] {
            width: 100%;
            padding: 10px;
            margin-bottom: 20px;
            border-radius: 5px;
            border: 1px solid #ccc;
            background: #333;
            color: white;
        }

        button {
            padding: 10px 20px;
            background-color: #28a745;
            border: none;
            color: white;
            font-size: 16px;
            cursor: pointer;
            border-radius: 5px;
            width: 100%;
        }

        button:disabled {
            background-color: #ccc;
        }

        #countdown {
            text-align: center;
            font-size: 40px;
            font-weight: bold;
            color: yellow;
            margin: 20px 0;
        }

        .statistics-container {
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 10px;
        }

        .statistics-container p {
            font-size: 20px;
        }

        .candidatos-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .candidato {
            text-align: center;
            border: 2px solid yellow;
            border-radius: 10px;
            padding: 10px;
            background: rgba(0, 0, 0, 0.8);
        }

        .candidato img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            margin-bottom: 10px;
        }

        .candidato p {
            margin: 5px 0;
        }

        .percentage {
            color: #ffc107;
            font-size: 16px;
        }

        .candidato-number {
            font-size: 20px;
            font-weight: bold;
            color: yellow;
        }

        .bottom-left {
            position: absolute;
            bottom: 20px;
            left: 20px;
            background: rgba(0, 0, 0, 0.6);
            padding: 20px;
            border-radius: 20px;
            font-size: 18px;
        }
    </style>
</head>
<body>
    <div class="overlay"></div>

    <div id="countdown"></div>

    <div class="container">
        <div class="form-container">
            <h1>Intentia la vot presidentiale 2024</h1>
            <form id="votingForm">
                <label for="id">Serie si numar buletin (Formatul: XX123456):</label>
                <input type="text" id="voterId" name="voterId" pattern="[A-Z]{2}[0-9]{6}" required placeholder="Ej: AB123456">

                <label for="country">Selecciona tu país:</label>
                <select id="country" name="country" required>
                    <option value="AL-Albânia">AL-Albânia</option>
<option value="AD-Andorra">AD-Andorra</option>
<option value="AT-Austria">AT-Austria</option>
<option value="BY-Belarus">BY-Belarus</option>
<option value="BE-Belgia">BE-Belgia</option>
<option value="BA-Bosnia și Herțegovina">BA-Bosnia și Herțegovina</option>
<option value="BG-Bulgaria">BG-Bulgaria</option>
<option value="HR-Croația">HR-Croația</option>
<option value="CY-Cipru">CY-Cipru</option>
<option value="CZ-Cehia">CZ-Cehia</option>
<option value="DK-Danemarca">DK-Danemarca</option>
<option value="EE-Estonia">EE-Estonia</option>
<option value="FI-Finlanda">FI-Finlanda</option>
<option value="FR-Franța">FR-Franța</option>
<option value="GE-Georgia">GE-Georgia</option>
<option value="DE-Germania">DE-Germania</option>
<option value="GR-Grecia">GR-Grecia</option>
<option value="HU-Ungaria">HU-Ungaria</option>
<option value="IS-Islanda">IS-Islanda</option>
<option value="IE-Irlanda">IE-Irlanda</option>
<option value="IT-Italia">IT-Italia</option>
<option value="LV-Letonia">LV-Letonia</option>
<option value="LI-Lichtenstein">LI-Lichtenstein</option>
<option value="LT-Lituania">LT-Lituania</option>
<option value="LU-Luxemburg">LU-Luxemburg</option>
<option value="MK-Macedonia de Nord">MK-Macedonia de Nord</option>
<option value="MT-Malta">MT-Malta</option>
<option value="MD-Moldova">MD-Moldova</option>
<option value="MC-Monaco">MC-Monaco</option>
<option value="ME-Muntenegru">ME-Muntenegru</option>
<option value="NL-Olanda">NL-Olanda</option>
<option value="NO-Norvegia">NO-Norvegia</option>
<option value="PL-Polonia">PL-Polonia</option>
<option value="PT-Portugalia">PT-Portugalia</option>
<option value="RO-România">RO-România</option>
<option value="RU-Rusia">RU-Rusia</option>
<option value="RS-Serbia">RS-Serbia</option>
<option value="SK-Slovacia">SK-Slovacia</option>
<option value="SI-Slovenia">SI-Slovenia</option>
<option value="ES-Spania">ES-Spania</option>
<option value="SE-Suedia">SE-Suedia</option>
<option value="CH-Svizzera">CH-Svizzera</option>
<option value="UA-Ucraina">UA-Ucraina</option>
<option value="GB-Regatul Unit">GB-Regatul Unit</option>
<option value="AR-Argetina">AR-Argetina</option>
<option value="BS-Bahamas">BS-Bahamas</option>
<option value="BB-Barbados">BB-Barbados</option>
<option value="BZ-Belize">BZ-Belize</option>
<option value="BO-Bolivia">BO-Bolivia</option>
<option value="BR-Brazilia">BR-Brazilia</option>
<option value="CA-Canada">CA-Canada</option>
<option value="CL-Chile">CL-Chile</option>
<option value="CO-Columbia">CO-Columbia</option>
<option value="CR-Costa Rica">CR-Costa Rica</option>
<option value="CU-Cuba">CU-Cuba</option>
<option value="DO-Dominicana">DO-Dominicana</option>
<option value="EC-Ecuador">EC-Ecuador</option>
<option value="SV-El Salvador">SV-El Salvador</option>
<option value="GF-G Guyana Franceză">GF-Guyana Franceză</option>
<option value="GY-Guyana">GY-Guyana</option>
<option value="HT-Haiti">HT-Haiti</option>
<option value="HN-Honduras">HN-Honduras</option>
<option value="JM-Jamaica">JM-Jamaica</option>
<option value="MX-Mexic">MX-Mexic</option>
<option value="NI-Nicaragua">NI-Nicaragua</option>
<option value="PA-Panama">PA-Panama</option>
<option value="PY-Paraguay">PY-Paraguay</option>
<option value="PE-Peru">PE-Peru</option>
<option value="PR-Porto Rico">PR-Porto Rico</option>
<option value="DO-Republica Dominicană">DO-Republica Dominicană</option>
<option value="TT-Trinidad și Tobago">TT-Trinidad și Tobago</option>
<option value="UY-Uruguay">UY-Uruguay</option>
<option value="VE-Venezuela">VE-Venezuela</option>
<option value="AF-Afganistan">AF-Afganistan</option>
<option value="AM-Armenia">AM-Armenia</option>
<option value="AZ-Azerbaidjan">AZ-Azerbaidjan</option>
<option value="BH-Bahrain">BH-Bahrain</option>
<option value="BD-Bangladesh">BD-Bangladesh</option>
<option value="BT-Bhutan">BT-Bhutan</option>
<option value="BN-Brunei">BN-Brunei</option>
<option value="KH-Cambodgia">KH-Cambodgia</option>
<option value="CN-China">CN-China</option>
<option value="GE-Georgia">GE-Georgia</option>
<option value="IN-India">IN-India</option>
<option value="ID-Indonezia">ID-Indonezia</option>
<option value="IR-Iran">IR-Iran</option>
<option value="IQ-Irak">IQ-Irak</option>
<option value="IL-Israel">IL-Israel</option>
<option value="JP-Japonia">JP-Japonia</option>
<option value="JO-Iordania">JO-Iordania</option>
<option value="KZ-Kazahstan">KZ-Kazahstan</option>
<option value="KW-Kuweit">KW-Kuweit</option>
<option value="KG-Kârgâzstan">KG-Kârgâzstan</option>
<option value="LA-Laos">LA-Laos</option>
<option value="LB-Liban">LB-Liban</option>
<option value="MY-Malaezia">MY-Malaezia</option>
<option value="MV-Maldive">MV-Maldive</option>
<option value="MN-Mongolia">MN-Mongolia</option>
<option value="MM-Myanmar">MM-Myanmar</option>
<option value="NP-Nepal">NP-Nepal</option>
<option value="KP-Coreea de Nord">KP-Coreea de Nord</option>
<option value="KR-Coreea de Sud">KR-Coreea de Sud</option>
<option value="OM-Oman">OM-Oman</option>
<option value="PK-Pakistan">PK-Pakistan</option>
<option value="PH-Filipine">PH-Filipine</option>
<option value="QA-Qatar">QA-Qatar</option>
<option value="SA-Arabia Saudită">SA-Arabia Saudită</option>
<option value="SG-Singapore">SG-Singapore</option>
<option value="LK-Sri Lanka">LK-Sri Lanka</option>
<option value="SY-Siria">SY-Siria</option>
<option value="TW-Taiwan">TW-Taiwan</option>
<option value="TJ-Tadjikistan">TJ-Tadjikistan</option>
<option value="TH-Thailanda">TH-Thailanda</option>
<option value="TR-Turcia">TR-Turcia</option>
<option value="TM-Turkmenistan">TM-Turkmenistan</option>
<option value="AE-Emiratele Arabe Unite">AE-Emiratele Arabe Unite</option>
<option value="UZ-Uzbekistan">UZ-Uzbekistan</option>
<option value="VN-Vietnam">VN-Vietnam</option>
<option value="YE-Yemen">YE-Yemen</option>
<option value="DZ-Algeria">DZ-Algeria</option>
<option value="AO-Angola">AO-Angola</option>
<option value="BJ-Benin">BJ-Benin</option>
<option value="BW-Botswana">BW-Botswana</option>
<option value="BF-Burkina Faso">BF-Burkina Faso</option>
<option value="BI-Burundi">BI-Burundi</option>
<option value="CM-Camerun">CM-Camerun</option>
<option value="CV-Capul Verde">CV-Capul Verde</option>
<option value="CF-Centrafica">CF-Centrafica</option>
<option value="TD-Tsad">TD-Tsad</option>
<option value="CG-Congo">CG-Congo</option>
<option value="CD-Congo">CD-Congo</option>
<option value="DJ-Djibouti">DJ-Djibouti</option>
<option value="EG-Egipt">EG-Egipt</option>
<option value="GQ-Guinea Ecuatorială">GQ-Guinea Ecuatorială</option>
<option value="ER-Eritreea">ER-Eritreea</option>
<option value="ET-Etiopia">ET-Etiopia</option>
<option value="GA-Gabonezi">GA-Gabonezi</option>
<option value="GM-Gambia">GM-Gambia</option>
<option value="GH-Ghana">GH-Ghana</option>
<option value="GN-Guineea">GN-Guineea</option>
<option value="GW-Guineea-Bisau">GW-Guineea-Bisau</option>
<option value="KE-Kenya">KE-Kenya</option>
<option value="LS-Lezotho">LS-Lezotho</option>
<option value="LR-Liberia">LR-Liberia</option>
<option value="LY-Libia">LY-Libia</option>
<option value="MG-Madagscar">MG-Madagscar</option>
<option value="MW-Malawi">MW-Malawi</option>
<option value="ML-Mali">ML-Mali</option>
<option value="MR-Maroc">MR-Maroc</option>
<option value="MZ-Mozambic">MZ-Mozambic</option>
<option value="NA-Namibia">NA-Namibia</option>
<option value="NE-Niger">NE-Niger</option>
<option value="NG-Nigeria">NG-Nigeria</option>
<option value="RW-Rwanda">RW-Rwanda</option>
<option value="ST-Sao Tome și Principe">ST-Sao Tome și Principe</option>
<option value="SN-Senegal">SN-Senegal</option>
<option value="SC-Seychelles">SC-Sezchelles</option>
<option value="SL-Sierra Leone">SL-Sierra Leone</option>
<option value="SO-Somalia">SO-Somalia</option>
<option value="ZA-Sudafrica">ZA-Sudafrica</option>
<option value="SS-Sud-Sudan">SS-Sud-Sudan</option>
<option value="SD-Sudan">SD-Sudan</option>
<option value="SZ-Swaziland">SZ-Swaziland</option>
<option value="TZ-Tanzania">TZ-Tanzania</option>
<option value="TG-Togo">TG-Togo</option>
<option value="TN-Tunisia">TN-Tunisia</option>
<option value="UG-Uganda">UG-Uganda</option>
<option value="ZM-Zambia">ZM-Zambia</option>
<option value="ZW-Zimbabwe">ZW-Zimbabwe</option>


                </select>

                <label for="candidates">Selectioneaza candidatul:</label>
                <select id="candidates" name="candidates" required>
                    <option value="Elena-Valerica Lasconi">Elena-Valerica Lasconi</option>
                    <option value="George-Nicolae Simion">George-Nicolae Simion</option>
                    <option value="Ion-Marcel Ciolacu">Ion-Marcel Ciolacu</option>
                    <option value="Nicolae-Ionel Ciucă">Nicolae-Ionel Ciucă</option>
                    <option value="Kelemen Hunor">Kelemen Hunor</option>
                    <option value="Mircea-Dan Geoană">Mircea-Dan Geoană</option>
                    <option value="Ana Birchall">Ana Birchall</option>
                    <option value="Alexandra-Beatrice Bertalan Păcuraru">Alexandra-Beatrice Bertalan Păcuraru</option>
                    <option value="Sebastian-Constantin Popescu">Sebastian-Constantin Popescu</option>
                    <option value="Ludovic Orban">Ludovic Orban</option>
                    <option value="Călin Georgescu">Călin Georgescu</option>
                    <option value="Cristian Diaconescu">Cristian Diaconescu</option>
                    <option value="Cristian-Vasile Terheș">Cristian-Vasile Terheș</option>
                    <option value="Silviu Predoiu">Silviu Predoiu</option>
                </select>

                <button type="submit" id="submitButton">Voteaza</button>
            </form>
        </div>

        <div class="statistics-container">
            <h2>Statistica</h2>
            <div id="candidatesStats">
                <div class="candidatos-grid" id="candidatosGrid">
                    <!-- Aquí se mostrarán los candidatos -->
                </div>
            </div>
        </div>
    </div>

    <div class="bottom-left">
        <h3>Statistica Totala</h3>
        <p>Total Voturi: <span id="totalVotes">0</span></p>
        <p>Voturi Valide: <span id="validVotes">0</span></p>
        <p>Voturi nule: <span id="nullVotes">0</span></p>
    </div>

    <script>
        let countdownDate = new Date().getTime() + 24 * 60 * 60 * 1000; // 1 día desde ahora

        function updateCountdown() {
            let now = new Date().getTime();
            let distance = countdownDate - now;

            let hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            let minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            let seconds = Math.floor((distance % (1000 * 60)) / 1000);

            document.getElementById("countdown").innerHTML =
                hours + "h " + minutes + "m " + seconds + "s ";

            if (distance < 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown").innerHTML = "¡Tiempo agotado!";
            }
        }

        let countdownInterval = setInterval(updateCountdown, 1000);

        // Datos de los candidatos y sus votos
        const candidates = [
            { name: "Elena-Valerica Lasconi", votes: 0, image: "imagenes_candidatos/Elena-Valerica_Lasconi.png" },
            { name: "George-Nicolae Simion", votes: 0, image: "imagenes_candidatos/George-Nicolae_Simion.png" },
            { name: "Ion-Marcel Ciolacu", votes: 0, image: "imagenes_candidatos/Ion-Marcel_Ciolacu.png" },
            { name: "Nicolae-Ionel Ciucă", votes: 0, image: "imagenes_candidatos/Nicolae-Ionel_Ciuca.png" },
            { name: "Kelemen Hunor", votes: 0, image: "imagenes_candidatos/Kelemen_Hunor.png" },
            { name: "Mircea-Dan Geoană", votes: 0, image: "imagenes_candidatos/Mircea-Dan_Geoana.png" },
            { name: "Ana Birchall", votes: 0, image: "imagenes_candidatos/Ana_Birchall.png" },
            { name: "Alexandra-Beatrice Bertalan Păcuraru", votes: 0, image: "imagenes_candidatos/Alexandra-Beatrice_Bertalan.png" },
            { name: "Sebastian-Constantin Popescu", votes: 0, image: "imagenes_candidatos/Sebastian-Constantin_Popescu.png" },
            { name: "Ludovic Orban", votes: 0, image: "imagenes_candidatos/Ludovic_Orban.png" },
            { name: "Călin Georgescu", votes: 0, image: "imagenes_candidatos/Calin_Georgescu.png" },
            { name: "Cristian Diaconescu", votes: 0, image: "imagenes_candidatos/Cristian_Diaconescu.png" },
            { name: "Cristian-Vasile Terheș", votes: 0, image: "imagenes_candidatos/Cristian-Vasile_Terhes.png" },
            { name: "Silviu Predoiu", votes: 0, image: "imagenes_candidatos/Silviu_Predoiu.png" }
        ];

        function displayCandidates() {
            let candidatesGrid = document.getElementById("candidatosGrid");
            candidatesGrid.innerHTML = ''; // Limpiar candidatos previos

            candidates.forEach(candidate => {
                let candidateDiv = document.createElement("div");
                candidateDiv.classList.add("candidato");

                candidateDiv.innerHTML = `
                    <img src="${candidate.image}" alt="${candidate.name}">
                    <p class="candidato-number">${candidate.name}</p>
                    <p class="percentage">Votos: <span class="votes">${candidate.votes}</span></p>
                `;

                candidatesGrid.appendChild(candidateDiv);
            });
        }

        displayCandidates();

        document.getElementById("votingForm").addEventListener("submit", function(event) {
            event.preventDefault();

            const id = document.getElementById("voterId").value;
            const selectedCandidate = document.getElementById("candidates").value;

            let voteKey = "vote_" + id; // Clave única para cada ID

            // Verificar si el ID ya ha votado
            if (localStorage.getItem(voteKey)) {
                alert("Ya has votado anteriormente con este ID.");
                return;
            }

            // Buscar el candidato seleccionado
            const candidate = candidates.find(c => c.name === selectedCandidate);
            if (candidate) {
                candidate.votes++;
            }

            // Guardar el voto en localStorage para evitar votar nuevamente
            localStorage.setItem(voteKey, selectedCandidate);

            // Actualizar los resultados
            displayCandidates();
            alert("¡Voto emitido con éxito!");

            // Actualizar estadísticas
            const totalVotes = candidates.reduce((acc, candidate) => acc + candidate.votes, 0);
            const validVotes = totalVotes;  // Aquí podrías incluir lógica adicional para votos nulos
            document.getElementById("totalVotes").textContent = totalVotes;
            document.getElementById("validVotes").textContent = validVotes;
        });
    </script>
</body>
</html>
